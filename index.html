<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://pixijs.download/release/pixi.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
    </style>
    <title>PixiJS</title>
</head>

<body>
    <script>
        let app = new PIXI.Application({ width: 1180, height: 800 });
        document.body.appendChild(app.view);
        let animations = {
            "cloud": {
                "attack": "",
                "idle": "",
                "move": "",
            }
        };
        let cloud;
        let cloudSheet;

        async function loadAnimation() {
            let response = await fetch('./JSON/cloudSheetData.json');
            let json = await response.json();

            let cloudSheet = new PIXI.Spritesheet(
                PIXI.BaseTexture.from(json.meta.image), json
            );
            await cloudSheet.parse();
            animations.cloud.attack = cloudSheet.animations.attack;
            animations.cloud.idle = cloudSheet.animations. idle;

            cloud = new PIXI.AnimatedSprite(cloudSheet.animations.idle);
            cloud.animationSpeed = 0.1;
            cloud.play();
            cloud.scale.x *= -1;
            cloud.anchor.set(0.5);
            cloud.y = app.screen.height / 2;
            cloud.x = cloud.width / 2 + 10;
            app.stage.addChild(cloud);
        };

        let attackButton = PIXI.Sprite.from("./sprites/attack.png")
        attackButton.y = app.screen.height - attackButton.height;
        attackButton.x = 10;
        attackButton.on('pointerdown', (event) => { cloud = });
        attackButton.eventMode = 'static';

        app.stage.addChild(attackButton);

        loadAnimation();
    </script>
</body>

</html>